plugins {
    id("org.jetbrains.kotlin.jvm").version("1.1.4-3")
}

// tag::properties
group 'com.petrovich'
version '0.2.0-SNAPSHOT'
// end::properties

// tag::repositories
repositories {
    mavenCentral()
}
// end::repositories

// tag::jar
jar {
    manifest.attributes(
            "Created-By": "Dmitrii Kniazev",
            "Implementation-Version": version,
            "Java-Version": sourceCompatibility.toString(),
            "Build-Time": new Date().toString()
    )
}
// end::jar

// tag::dependencies
dependencies {
    compile("org.jetbrains.kotlin:kotlin-stdlib-jre8")
    compile("org.jyaml:jyaml:1.3")
    compile("org.apache.commons:commons-lang3:3.3.2")
    //test dependencies
    testCompile("org.jetbrains.kotlin:kotlin-test")
    testCompile("org.jetbrains.kotlin:kotlin-test-junit")
    testCompile("junit:junit:4.12")
}
// end::dependencies

// tag::kotlin-compile
compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
// end::kotlin-compile

// tag::wrapper
task wrapper(type: Wrapper) {
    gradleVersion = '4.0.1'
}
// end::wrapper

